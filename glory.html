<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Доска почёта НЯК</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link
      rel="canonical"
      href="https://ommgl.github.io/boardofshame/glory.html"
    />
    <link rel="stylesheet" href="styles.css" />
    <script>
      /**
       * @typedef {Object} User
       * @property {string} name
       * @property {string} [link]
       * @property {ListType} list_name
       * @property {string} [created_at]
       * @property {string} [reason]
       * @property {UserRole} [user_role]
       */
      /**
       * @typedef {'shame' | 'limbo' | 'glory'} ListType
       */
      /**
       * @typedef {'Сотрудник' | 'Робот'} UserRole
       */
      window.addEventListener("load", async (event) => {
        const response = await fetch("data.json");
        /** @type {User[]} */
        const data = await response.json();
        let board = document.getElementById("gloryBoard");
        board.innerHTML = data
          .filter((user) => user.list_name === "glory")
          .map((item) => `<p><b>${item.name}</b> – <i>${item.reason}</i></p>`)
          .join("");
      });
    </script>
  </head>

  <body class="glory">
    <h1>ДОСКА ПОЧЁТА НЯК</h1>
    <a href=".">Доска позора</a>
    <noscript>
      <p>Доска почёта не работает без javascript. К сожалению.</p>
    </noscript>
    <div id="gloryBoard"></div>
  </body>
</html>
